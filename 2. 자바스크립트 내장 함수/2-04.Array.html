<!DOCTYPE html>
<html>

<head>
	<title>Array</title>
</head>

<body>
	<div id="array"></div>
	<script>
		//toString()
		var fruits = ["Banana", "Orange", "Apple"];
		console.log(fruits.toString()); //따로 지정없어도 자동으로 ','를 기준으로 분리

		//join()	
		console.log(fruits.join("  *  ")); //지정된 내용을 기준으로 배열 내의 문자열을 연결해서 합침
		console.log(fruits.join(","));

		var txt = "Banana<br>";
		txt += "Orange<br>";
		txt += "Apple<br>";

		//push()
		//배열의 마지막에 요소를 추가
		var arr = [];
		arr.push("Banana");
		arr.push("Orange");
		arr.push("Apple");

		//div 중 id가 array인 곳에 txt를 태그 안 내용으로 추가
		//document.getElementById("array").innerHTML = txt;

		//<br>을 넣어 join을 할 수도 있음
		document.getElementById("array").innerHTML = arr.join("<br>");

		//pop()
		//배열의 가장 마지막 요소를 삭제하고, 그 값을 반환 
		var str = fruits.pop();
		console.log(str); //Apple
		console.log(fruits); //["Banana", "Orange"]

		fruits.push("Kiwi");
		console.log(fruits);

		//shift()
		//배열의 맨 앞의 요소를 삭제하고, 그 값을 반환
		var str = fruits.shift();
		console.log(str); //Banana
		console.log(fruits); //["Orange", "Kiwi"]

		//unshift()
		//배열의 맨 앞에 요소를 추가
		fruits.unshift("lemon");
		console.log(fruits); //["lemon", "Orange", "Kiwi"]

		//인덱스로 특정 위치 선택해서 값 재지정하기
		fruits[0] = "Banana"; //배열 맨 앞
		console.log(fruits);

		fruits[fruits.length - 1] = "lemon"; //배열의 맨 마지막 (전체 길이 - 1)
		console.log(fruits);

		//splice()
		//배열의 중간에 요소를 추가 또는 삭제
		//(시작위치, 시작위치부터 삭제할 갯수[, 추가할 내용1][, 추가할 내용2], ...)
		var fruits = ["Banana", "Orange", "Apple"];
		fruits.splice(1, 0, "Lemon", "Kiwi");
		console.log(fruits); //["Banana", "Lemon", "Kiwi", "Orange", "Apple"];
		fruits.splice(2, 1);
		console.log(fruits); //["Banana", "Lemon", "Orange", "Apple"];

		//concat()
		//두 배열 합쳐서 새로운 배열 만들기
		var myBoys = ["Eunhyeok"];
		var myGirls = ["Eunseo", "Eunsol"];
		var myChildren = myBoys.concat(myGirls);
		console.log(myChildren);

		//slice()
		//배열의 중간에서 요소를 잘라서 반환
		var fruits2 = fruits.slice(1, 3); //(인덱스 1부터 2까지만 반환)
		console.log(fruits2);

		//sort()
		//(문자열 기준으로) 오름차순으로 정렬
		console.log(fruits.sort()); //문자열의 경우 알파벳 순으로 정렬

		var points = [40, 100, 70, 21, 99]; //숫자를 문자열로 인식해서 맨앞이 1인 100이 맨 앞에 옴
		console.log(points.sort()); //[100, 21, 40, 70, 99]

		// ** 오름차순으로 숫자 배열하기
		points.sort(function (a, b) {
			//if (a > b) {
			//	return 1;
			//} else if (a < b) {
			//	return -1;
			//} else {
			//	return 0;
			//}
			return a - b;
		});

		console.log(points);

		// ** 내림차순으로 숫자 배열하기
		points.sort(function (a, b) {
			//if (a > b) {
			//	return -1;
			//} else if (a < b) {
			//	return 1;
			//} else {
			//	return 0;
			//}
			return b - a;
		});

		console.log(points);

		//reverse()
		//배열에 있는 요소들의 순서를 뒤집음
		points.reverse();
		console.log(points);


		var persons = [{
				name: "유재석",
				point: 78,
				city: "서울"
			},
			{
				name: "김종국",
				point: 92,
				city: "제주"
			},
			{
				name: "양세찬",
				point: 36,
				city: "제주"
			},
			{
				name: "하하",
				point: 84,
				city: "대구"
			},
		];

		//점수 기준으로 내림차순(큰 숫자부터)
		persons.sort(function (a, b) {
			//if (a.point > b.point) {
			//	return -1;
			//} else if (a.point < b.point) {
			//	return 1;
			//} else {
			//	return 0;
			//}

			//삼항연산자 사용 (실무에서 많이 씀)
			return a.point > b.point ? 1 : a.point < b.point ? -1 : 0;
		});

		console.log(persons);

		// ***** filter()
		//조건에 맞는 배열만 리턴 
		var pass = persons.filter(function (person) { //배열에서 filter로 값을 하나씩 꺼낸 후
			//조건식을 리턴
			return person.point > 80; //persons 배열에서 point가 80점이 넘는 person만 고른 것을 pass에 넣어 반환
		});

		console.log(pass);

		var jeju = persons.filter(function (person) {
			return person.city == "제주";
		});

		console.log(jeju);

		// *** reduce
		//accumulator - 누산기 (여기에 계속 값이 더해짐)
		//currentValue - 현재값
		//currentIndex(i) - 현재 인덱스 (선택)
		//arr - reduce를 실행하려고 하는 전체 배열 리턴 (선택)
		var arr1 = [1, 2, 3, 4];
		for (var x of arr1) {
			total += x;
		}
		console.log(total); //x값을 누적계산해서 total 값 도출

		var total = arr1.reduce(function (a, c) {
			return a + c;
		});

		console.log(total);

		// **** map
		//객체요소가 들어있는 배열에서 객체를 하나씩 꺼내서
		//각 객체의 key, value 값을 꺼내서 사용
		//	=> 서버에서 던져준 정보 중 필요한 것만 꺼내서 쓸 때 사용
		var userList = [{
				firstName: "재석",
				lastName: "유",
				email: "yu@gmail.com"
			},
			{
				firstName: "종국",
				lastName: "김",
				email: "kim@gmail.com"
			},
			{
				firstName: "세찬",
				lastName: "양",
				email: "yang@gmail.com"
			},
			{
				firstName: "석진",
				lastName: "지",
				email: "ji@gmail.com"
			},
		];

		var userList2 = userList.map(function (user) {
			return {
				fullName: user.lastName + user.firstName,
				firstName: user.firstName,
				lastName: user.lastName,
				email: user.email
			}
		});

		console.log(userList2);
	</script>
</body>

</html>